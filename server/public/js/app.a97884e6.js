(function(e){function t(t){for(var o,a,l=t[0],r=t[1],s=t[2],u=0,f=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);d&&d(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,l=1;l<n.length;l++){var r=n[l];0!==i[r]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={app:0},c=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var d=r;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"077c":function(e,t,n){e.exports=n.p+"img/excel.c59164de.svg"},"0f00":function(e,t,n){e.exports=n.p+"img/warning.184b1553.svg"},"128c":function(e,t,n){},"1d4c":function(e,t,n){"use strict";n("4717")},"27c6":function(e,t,n){e.exports=n.p+"img/newFolder.114a26be.svg"},"3ad8":function(e,t,n){"use strict";n("59dc")},"3ad83":function(e,t,n){"use strict";n("7ecf")},"3df7":function(e,t,n){},"3fb2":function(e,t,n){"use strict";n("128c")},4717:function(e,t,n){},"4c56":function(e,t,n){e.exports=n.p+"img/ppt.0e97c564.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),i=(n("ac1f"),n("1276"),{class:"main-container"}),c={class:"main-body"},a={class:"body-vertical"},l=Object(o["h"])("div",{class:"horizontal"},[Object(o["h"])("span",{class:"title center",id:"main-title"},"ОБЛАЧКО")],-1),r={class:"navpane"},s={class:"nav-container"},d={class:"folders"},u={ref:"dropzone"};function f(e,t,n,f,p,b){var h=Object(o["x"])("SideBar"),m=Object(o["x"])("Home"),v=Object(o["x"])("Modal"),O=Object(o["x"])("DropZone");return Object(o["p"])(),Object(o["e"])("div",i,[Object(o["h"])(h,{fileName:p.fileName,fileSize:p.fileSize,disabled:p.discheck,onItemClick:b.onItemClick,key:"sidebar-".concat(p.sbid)},null,8,["fileName","fileSize","disabled","onItemClick"]),Object(o["h"])("div",c,[Object(o["h"])("div",a,[l,Object(o["h"])("div",r,[Object(o["h"])("div",s,[Object(o["h"])("span",{class:"navlinks",onClick:t[1]||(t[1]=function(e){return b.navlinknav(0)})},"uploads"),(Object(o["p"])(!0),Object(o["e"])(o["a"],null,Object(o["v"])(p.navpath.split("/"),(function(e,t){return Object(o["p"])(),Object(o["e"])("div",{class:"navlinks",key:"nav-".concat(t),onClick:function(e){return b.navlinknav(t)}},[Object(o["h"])("span",null,"  "+Object(o["z"])(e+" > "),1)],8,["onClick"])})),128))])]),Object(o["h"])("div",d,[Object(o["h"])(m,{msg:"Welcome",key:"Home-".concat(p.HomeKey),onFolderPath:b.navigation,getPropDirPath:p.navpath,onFileDetails:b.displayDetails,onFolderDeleted:b.updateHome},null,8,["onFolderPath","getPropDirPath","onFileDetails","onFolderDeleted"])]),Object(o["G"])(Object(o["h"])(v,{onClose:b.closeModal,onSubmitFolderName:b.submitFolder},null,8,["onClose","onSubmitFolderName"]),[[o["D"],p.isModalVisible]]),Object(o["h"])("div",u,[Object(o["h"])(O,{currentPath:p.navpath,onFinishedUpload:b.updateHome,ref:"myDropzone"},null,8,["currentPath","onFinishedUpload"])],512)])])])}n("a15b"),n("fb6a"),n("b680"),n("b0c0"),n("caad");var p=n("abfe"),b=n.n(p),h=n("ae1a"),m=n.n(h),v=n("9b17"),O=n.n(v),j=n("077c"),g=n.n(j),y=n("4c56"),x=n.n(y),k=n("89fb"),w=n.n(k),F=n("de47"),D=n.n(F),P=n("ea8d"),z=n.n(P),S=n("7373"),C=n.n(S),N=n("0f00"),I=n.n(N),M=Object(o["I"])("data-v-7ab6519d");Object(o["s"])("data-v-7ab6519d");var H={class:"main-container2"},U={class:"HomeGrid"},E=Object(o["h"])("img",{src:b.a,alt:"Folder",class:"folderIcon"},null,-1),$={class:"HomeGrid"},_={key:0,src:m.a,class:"fileIcon"},A={key:1,src:O.a,class:"fileIcon"},B={key:2,class:"fileIcon",src:g.a},K={key:3,class:"fileIcon",src:x.a},R={key:4,class:"fileIcon",src:w.a},L={key:5,class:"fileIcon",src:D.a},V={key:6,class:"fileIcon",src:z.a},T={key:7,class:"fileIcon",src:C.a},Y={key:8,src:I.a,class:"fileIcon"};Object(o["q"])();var G=M((function(e,t,n,i,c,a){var l=Object(o["x"])("ctxMenu");return Object(o["p"])(),Object(o["e"])("div",H,[Object(o["h"])("div",U,[(Object(o["p"])(!0),Object(o["e"])(o["a"],null,Object(o["v"])(c.folders,(function(e,t){return Object(o["p"])(),Object(o["e"])("figure",{key:"Folder-".concat(t),onClick:function(t){return a.navigation(e)},onContextmenu:Object(o["H"])((function(t){return a.ctxmenu(e,t)}),["prevent"])},[E,Object(o["h"])("figcaption",null,Object(o["z"])(e),1)],40,["onClick","onContextmenu"])})),128))]),Object(o["h"])("div",$,[(Object(o["p"])(!0),Object(o["e"])(o["a"],null,Object(o["v"])(c.files,(function(e,t){return Object(o["p"])(),Object(o["e"])("figure",{key:"File-".concat(t),class:"file-padding",onClick:[Object(o["H"])((function(t){return a.autodownload(e.fileName)}),["ctrl","exact"]),Object(o["H"])((function(t){return a.emitDetails({name:e.fileName,size:e.fileSize,fname:e.fileName})}),["exact"])]},[".txt"==e.fileExtension?(Object(o["p"])(),Object(o["e"])("img",_)):".pdf"==e.fileExtension?(Object(o["p"])(),Object(o["e"])("img",A)):".xlsx"==e.fileExtension||".xls"==e.fileExtension?(Object(o["p"])(),Object(o["e"])("img",B)):".pptx"==e.fileExtension||".ppt"==e.fileExtension?(Object(o["p"])(),Object(o["e"])("img",K)):[".png",".jpeg",".jpg",".svg",".gif"].includes(e.fileExtension)?(Object(o["p"])(),Object(o["e"])("img",R)):[".docx",".doc"].includes(e.fileExtension)?(Object(o["p"])(),Object(o["e"])("img",L)):[".mp4",".mov",".mkv",".webm"].includes(e.fileExtension)?(Object(o["p"])(),Object(o["e"])("img",V)):[".mp3"].includes(e.fileExtension)?(Object(o["p"])(),Object(o["e"])("img",T)):(Object(o["p"])(),Object(o["e"])("img",Y)),Object(o["h"])("figcaption",null,Object(o["z"])(e.fileName),1)],8,["onClick"])})),128))]),Object(o["h"])(l,{menu:c.options,show:c.ctxshow,x:c.ctxX,y:c.ctxY,onClickedItem:a.ctxClick,key:"ctx-".concat(c.ctxkey)},null,8,["menu","show","x","y","onClickedItem"])])})),X=n("1da1"),q=(n("96cf"),n("d4ec")),Z=n("bee2"),J=(n("d3b7"),n("99af"),n("3ca3"),n("ddb0"),n("2b3d"),n("7338")),W=n.n(J),Q=n("df7c"),ee="posts",te=function(){function e(){Object(q["a"])(this,e)}return Object(Z["a"])(e,null,[{key:"getDirectories",value:function(e){return new Promise((function(t,n){try{var o=W.a.post("".concat(ee,"/dir"),{dir:e}).then((function(e){return e}));return t(o)}catch(i){n(i)}}))}},{key:"newFolder",value:function(e,t){return console.log(e),W.a.post("".concat(ee,"/newFolder"),{path:t,folderName:e})}},{key:"SendForDownload",value:function(e,t){W.a.get("".concat(ee,"/downloadFile/").concat(e,"/").concat(t),{responseType:"arraybuffer"}).then((function(e){var n=new Blob([e.data]),o=document.createElement("a");o.href=window.URL.createObjectURL(n),o.download=t,o.click()})).catch((function(e){console.log(e)}))}},{key:"SendForUpload",value:function(){return"".concat(ee,"/upload")}},{key:"SendForDelete",value:function(e,t){var n=Q.join(e,t);W.a.post("".concat(ee,"/deleteFile/"),{fullPath:n}).catch((function(e){return console.log(e)}))}},{key:"SendFolderForDelete",value:function(e,t){var n=Q.join(e,t);W.a.post("".concat(ee,"/deleteFolder/"),{fullPath:n}).catch((function(e){return console.log(e)}))}},{key:"SendFolderForDownload",value:function(e,t){var n=Q.join(e,t);W.a.post("".concat(ee,"/downloadFolder/"),{fullPath:n,folderName:t},{responseType:"arraybuffer"}).then((function(e){var n=new Blob([e.data],{type:"application/zip"}),o=document.createElement("a");o.href=window.URL.createObjectURL(n),o.download=t,o.click()})).catch((function(e){console.log(e)}))}}]),e}(),ne=te,oe=Object(o["I"])("data-v-549fb156");Object(o["s"])("data-v-549fb156");var ie={key:0};Object(o["q"])();var ce=oe((function(e,t,n,i,c,a){return Object(o["p"])(),Object(o["e"])("div",{class:"ctx-container",style:a.posStyle,onMouseleave:t[1]||(t[1]=function(){return a.removeActive&&a.removeActive.apply(a,arguments)}),key:"container-".concat(c.contKey)},[n.show&&c.active?(Object(o["p"])(),Object(o["e"])("ul",ie,[(Object(o["p"])(!0),Object(o["e"])(o["a"],null,Object(o["v"])(n.menu,(function(e,t){return Object(o["p"])(),Object(o["e"])("li",{key:"ctx-item-".concat(t),onClick:function(t){return a.sendClickAction(e)}},Object(o["z"])(e),9,["onClick"])})),128))])):Object(o["f"])("",!0)],36)})),ae=(n("a9e3"),{name:"ctxMenu",props:{menu:Array,show:{type:Boolean,default:!1},x:Number,y:Number},data:function(){return{active:!0,contKey:0}},computed:{posStyle:function(){return{"--top":this.y+"px","--left":this.x+"px"}}},methods:{removeActive:function(){this.active=!1,this.contKey++},sendClickAction:function(e){this.$emit("clickedItem",e),this.removeActive()}}});n("f06a");ae.render=ce,ae.__scopeId="data-v-549fb156";var le=ae,re={name:"Home",components:{ctxMenu:le},props:["getPropDirPath"],data:function(){return{folders:[],files:[],error:"",getDirPath:".",options:["Delete Folder","Download Folder"],ctxX:0,ctxY:0,ctxshow:!1,ctxkey:0,ctxfolder:""}},created:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.folders=ne.getDirectories(e.getPropDirPath).then((function(t){e.folders=t.data.sendFolders})),e.files=ne.getDirectories(e.getPropDirPath).then((function(t){e.files=t.data.sendFiles}))}catch(n){e.error=n}case 1:case"end":return t.stop()}}),t)})))()},methods:{navigation:function(e){this.getDirPath=this.getPropDirPath+"/".concat(e),console.log(this.getDirPath),this.$emit("folderPath",this.getDirPath)},emitDetails:function(e){var t={gpdp:this.getPropDirPath,fname:e.fname};this.$emit("fileDetails",e,t)},autodownload:function(e){ne.SendForDownload(this.getPropDirPath,e)},ctxmenu:function(e,t){this.ctxX=t.clientX,this.ctxY=t.clientY,this.ctxshow=!0,this.ctxfolder=e,this.ctxkey++},ctxClick:function(e){switch(e){case"Delete Folder":confirm("Are you sure you want delete ".concat(this.ctxfolder,".\nThis will delete all its contents!❗❗"))&&(ne.SendFolderForDelete(this.getPropDirPath,this.ctxfolder),this.$emit("FolderDeleted"));break;case"Download Folder":console.log("download folder"),ne.SendFolderForDownload(this.getPropDirPath,this.ctxfolder);break}}}};n("3ad8");re.render=G,re.__scopeId="data-v-7ab6519d";var se=re,de=(n("b15b"),{class:"modal-backdrop"}),ue={class:"modal"},fe={class:"modal-header"},pe=Object(o["g"])(" Новая папка "),be={class:"modal-body"},he={class:"modal-footer"};function me(e,t,n,i,c,a){return Object(o["p"])(),Object(o["e"])("div",de,[Object(o["h"])("div",ue,[Object(o["h"])("header",fe,[Object(o["w"])(e.$slots,"header",{},(function(){return[pe]})),Object(o["h"])("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=function(){return a.close&&a.close.apply(a,arguments)})}," x ")]),Object(o["h"])("section",be,[Object(o["w"])(e.$slots,"body",{},(function(){return[Object(o["G"])(Object(o["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.newFolder=e}),placeholder:"Новая папка Name"},null,512),[[o["C"],c.newFolder]])]}))]),Object(o["h"])("footer",he,[Object(o["h"])("button",{type:"button",class:"btn-green",onClick:t[3]||(t[3]=function(e){a.close(),a.submit()})}," Create Folder ")])])])}var ve={name:"Modal",data:function(){return{newFolder:""}},methods:{close:function(){this.$emit("close")},submit:function(){this.$emit("submitFolderName",this.newFolder),this.newFolder=""}}};n("3ad83");ve.render=me;var Oe=ve,je=Object(o["I"])("data-v-a47c9b52");Object(o["s"])("data-v-a47c9b52");var ge={class:"dropzone-container"};Object(o["q"])();var ye=je((function(e,t,n,i,c,a){return Object(o["p"])(),Object(o["e"])("div",ge,[(Object(o["p"])(),Object(o["e"])("form",{action:c.uploadurl,class:"dropzone drop-area",enctype:"multipart/form-data",id:"myDropzone",ref:"myDropzone",key:"dz-".concat(c.dzkey)},[Object(o["h"])("input",{type:"hidden",name:"path",value:n.currentPath},null,8,["value"])],8,["action"])),Object(o["h"])("button",{class:"finish-button",onClick:t[1]||(t[1]=function(){return a.finishUpload&&a.finishUpload.apply(a,arguments)})},"Загрузить файл")])})),xe=n("9e6a");xe["autoDiscover"]=!0;var ke={name:"DropZone",props:["currentPath"],data:function(){return{uploadurl:ne.SendForUpload(),dzkey:0}},methods:{finishUpload:function(){this.$refs.myDropzone.dropzone.removeAllFiles(),this.$emit("finishedUpload")}}};n("3fb2");ke.render=ye,ke.__scopeId="data-v-a47c9b52";var we=ke;function Fe(e,t,n,i,c,a){var l=Object(o["x"])("sidebar-menu");return Object(o["p"])(),Object(o["e"])(l,{width:c.width,menu:c.menu,collapsed:c.collapsed,relative:!0,"link-component-name":"custom-link"},null,8,["width","menu","collapsed"])}var De=n("2ab6"),Pe={newFolder:n("27c6"),upload:n("c118"),download:n("6369"),delete:n("d739")},ze={name:"SideBar",components:{SidebarMenu:De["a"]},props:["fileName","fileSize","disabled"],data:function(){return{width:"290px",widthCollapsed:"50px",collapsed:!1,menu:[{header:"Настройки облачка",hiddenOnCollapse:!0},{title:"Новая папка",icon:{element:"img",attributes:{src:Pe.newFolder,style:"background-color: transparent"}}},{title:"Загрузить на облачко",icon:{element:"img",attributes:{src:Pe.upload,style:"background-color: transparent"}}},{header:"Свойства файла",hiddenOnCollapse:!0},{title:"Имя: ".concat(void 0==this.fileName?"Not Selected":this.fileName)},{title:"Размер файла: ".concat(void 0==this.fileSize?0:this.fileSize)},{title:"Скачать",icon:{element:"img",attributes:{src:Pe.download,style:"background-color: transparent"}},disabled:this.disabled},{title:"Удалить",icon:{element:"img",attributes:{src:Pe.delete,style:"background-color: transparent"}},disabled:this.disabled}]}}};ze.render=Fe;var Se=ze,Ce={name:"App",components:{Home:se,Modal:Oe,DropZone:we,SideBar:Se},data:function(){return{isModalVisible:!1,HomeKey:0,dzid:0,sbid:0,navpath:"",fileSize:0,fileName:"",downloadbuttondata:{},deleteButtonData:{},discheck:!0,dzkey:0}},methods:{onItemClick:function(e,t){if(e.preventDefault(),"Новая папка"==t.title)console.log(t.title),this.showModal();else if("Загрузить на облачко"==t.title){console.log(t.title);var n=this.$refs["dropzone"];n.scrollIntoView({behavior:"smooth"})}else"Скачать"!=t.title||this.discheck?"Удалить"!=t.title||this.discheck||(ne.SendForDelete(this.deleteButtonData.gpdp,this.deleteButtonData.fname),this.HomeKey++):ne.SendForDownload(this.downloadbuttondata.gpdp,this.downloadbuttondata.fname)},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},submitFolder:function(e){ne.newFolder(e,this.navpath),this.HomeKey++,this.dzid++},navigation:function(e){this.navpath=e,this.HomeKey++,this.dzid++},navlinknav:function(e){console.log(e),this.navpath=this.navpath.split("/").slice(0,e+1).join("/"),this.HomeKey++,this.dzid++},displayDetails:function(e,t){this.fileSize=e.size>=1e3?(e.size/1024).toFixed(3)+" mb":e.size+" kb",this.fileName=e.name,this.discheck=!1,this.sbid++,this.downloadbuttondata=t,this.deleteButtonData=t},updateHome:function(){this.HomeKey++}}};n("1d4c");Ce.render=f;var Ne=Ce,Ie=Object(o["d"])(Ne);Ie.use(De["b"]);var Me={name:"CustomLink",props:["item"],render:function(){return Object(o["j"])("a",this.$slots.default())}};Ie.component("custom-link",Me),Ie.mount("#app")},"59dc":function(e,t,n){},6369:function(e,t,n){e.exports=n.p+"img/download.e8b45006.svg"},7373:function(e,t,n){e.exports=n.p+"img/music.90514e8c.svg"},"7ecf":function(e,t,n){},"89fb":function(e,t,n){e.exports=n.p+"img/image.48de2d64.svg"},"9b17":function(e,t,n){e.exports=n.p+"img/pdf.cb7648e7.svg"},abfe:function(e,t,n){e.exports=n.p+"img/folder.dc22a481.svg"},ae1a:function(e,t,n){e.exports=n.p+"img/txt.9469e4ed.svg"},c118:function(e,t,n){e.exports=n.p+"img/upload.70153fb1.svg"},d739:function(e,t,n){e.exports=n.p+"img/delete.11bf86fb.svg"},de47:function(e,t,n){e.exports=n.p+"img/word.113ac212.svg"},ea8d:function(e,t,n){e.exports=n.p+"img/video.2f6ed3a3.svg"},f06a:function(e,t,n){"use strict";n("3df7")}});
//# sourceMappingURL=app.a97884e6.js.map